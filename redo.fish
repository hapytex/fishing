function redo --description 'redo a command until it succeeds'
  while not $argv;
    sleep 1
  endwhile
end
